<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Survival Encyclopedia | Norway 2026</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .guide-scroller { display: flex; overflow-x: auto; gap: 10px; padding: 15px 5px; scrollbar-width: none; }
        .guide-scroller::-webkit-scrollbar { display: none; }
        
        /* æœå°‹æ¡†å„ªåŒ– */
        .search-box {
            background: var(--glass);
            border: 1px solid rgba(232, 180, 184, 0.3);
            border-radius: 15px;
            padding: 10px 15px;
            margin-bottom: 15px;
        }

        .cat-tag { 
            min-width: 100px; padding: 10px 18px; border-radius: 50px; background: white; 
            border: 1.5px solid var(--nordic-pink); color: var(--nordic-pink); font-size: 0.8rem; 
            font-weight: 700; white-space: nowrap; cursor: pointer; text-align: center;
        }
        .cat-tag.active { background: var(--nordic-pink); color: white; box-shadow: 0 4px 12px rgba(232, 180, 184, 0.3); }

        .importance-strip { width: 6px; border-radius: 10px; margin-right: 15px; flex-shrink: 0; }
        .imp-high { background: #FF6B6B; }
        .imp-med { background: #FFD93D; }
        .imp-low { background: #6BCB77; }

        .pro-tip-box { background: #F8F9FA; border-radius: 12px; padding: 12px; font-size: 0.85rem; border-left: 3px solid var(--text-deep); }
        
        /* æª¢æŸ¥æ¸…å–®æ¨£å¼ */
        .check-item {
            display: flex; align-items: center; gap: 10px; padding: 8px 0; border-bottom: 1px dashed #eee;
        }
        .check-item input[type="checkbox"] {
            width: 20px; height: 20px; accent-color: var(--nordic-pink);
        }

        /* ç·Šæ€¥æŒ‰éˆ•æ¨£å¼ */
        .emergency-btn {
            background: #FF6B6B; color: white !important; border-radius: 12px; padding: 15px;
            text-decoration: none; display: flex; align-items: center; justify-content: center;
            font-weight: bold; margin-bottom: 10px; gap: 10px;
        }
    </style>
</head>
<body class="p-3">

    <header class="mb-3 mt-2 px-2">
        <h2 class="fw-bold">Survival Encyclopedia</h2>
        <p class="text-muted small">é€™ä¸æ˜¯æŒ‡å—ï¼Œé€™æ˜¯ä½ åœ¨æŒªå¨å„ªé›…ç”Ÿå­˜çš„æˆ°è¡“åœ°åœ–ã€‚</p>
    </header>

    <div class="search-box d-flex align-items-center">
        <i class="fas fa-search text-soft me-2"></i>
        <input type="text" id="guideSearch" class="form-control border-0 bg-transparent p-0 small" placeholder="æœå°‹é—œéµå­— (å¦‚ï¼šåœè»Š, æ¸¡è¼ª...)" oninput="filterGuide()">
    </div>

    <div class="guide-scroller mb-3" id="catNav">
        <div class="cat-tag active" onclick="switchGuide('driving', this)">ğŸš— é“è·¯æˆ°è¡“</div>
        <div class="cat-tag" onclick="switchGuide('grocery', this)">ğŸ›’ è¶…å¸‚ç”Ÿå­˜</div>
        <div class="cat-tag" onclick="switchGuide('apps', this)">ğŸ“± å¿…å‚™å·¥å…·</div>
        <div class="cat-tag" onclick="switchGuide('checklist', this)">âœ… è¡Œå‰æª¢æŸ¥</div>
        <div class="cat-tag" onclick="switchGuide('emergency', this)">ğŸ†˜ ç·Šæ€¥æ•‘æ´</div>
    </div>

    <div id="guideDisplay"></div>

    <nav class="bottom-nav">
        <a href="index.html"><i class="fas fa-house-chimney"></i><span>ç¸½è¦½</span></a>
        <a href="culture.html"><i class="fas fa-compass"></i><span>è¡Œç¨‹</span></a>
        <a href="guide.html" class="active"><i class="fas fa-feather-pointed"></i><span>æŒ‡å—</span></a>
    </nav>

    <script>
        const fullGuideData = {
            driving: [
                { title: "M-Plassï¼šå±±è·¯ç¦®è®“", imp: "high", desc: "çœ‹åˆ°è—åº•ç™½å­—ã€Mã€æ˜¯é¿è»Šå½ã€‚è‹¥ä½ åœ¨é€™å´ï¼Œè«‹ä¸»å‹•é é‚Šåœä¸‹è®“å°å‘å¤§è»Šé€šéã€‚", tip: "ç¦®è®“å¾Œå°æ–¹é–ƒç‡ˆæ˜¯èªª Takkï¼Œè«‹å¸¥æ°£èˆ‰æ‰‹å›ç¦®ã€‚" },
                { title: "EasyParkï¼šåœè»Šæ•‘æ˜Ÿ", imp: "high", desc: "å…¨æŒªå¨æœ€é€šç”¨ Appã€‚æŒ‰åˆ†é˜è¨ˆè²»ï¼Œå¯éš¨æ™‚é ç«¯å»¶é•·æ™‚é–“ã€‚", tip: "è¨­å®šæ™‚è¨˜å¾—é¸å°è»Šç‰Œè™Ÿç¢¼ï¼Œé¿å…ç²‰ç´…ç½°å–®ã€‚" },
                { title: "AutoPass è‡ªå‹•æ”¶è²»", imp: "med", desc: "å…¨æŒªå¨è‡ªå‹•æ„Ÿæ‡‰è»Šç‰Œï¼Œè²»ç”¨æ–¼é‚„è»Šå¾Œæ‰£é™¤ã€‚", tip: "ç›´æ¥é–‹éå»ï¼Œä¸éœ€åœè»Šæ‰¾éŒ¢ã€‚" }
            ],
            grocery: [
                { title: "é€±æ—¥å…¬ä¼‘å¾‹æ³•", imp: "high", desc: "è¶…å¸‚é€±æ—¥ä¸ç‡Ÿæ¥­ã€‚é€±å…­ä¸‹åˆè«‹å‹™å¿…å‚™é½Šå…©å¤©çš„é£Ÿæã€‚", tip: "é€±æ—¥å”¯ä¸€æ•‘æ˜Ÿæ˜¯åŠ æ²¹ç«™çš„å°è¶…å¸‚ã€‚" },
                { title: "PANT ç“¶ç½å›æ”¶", imp: "low", desc: "ç“¶ç½å«æŠ¼é‡‘ã€‚å»è¶…å¸‚æ©Ÿå™¨å›æ”¶å¯æ›ç¾é‡‘æŠµç”¨åˆ¸ã€‚", tip: "é€™æ˜¯ä½ åœ¨æŒªå¨å”¯ä¸€èƒ½æ„Ÿè¦ºåˆ°éŒ¢å›ä¾†çš„æ™‚åˆ»ã€‚" }
            ],
            apps: [
                { title: "Yr.no æ°£è±¡å±€", imp: "high", desc: "æŒªå¨å®˜æ–¹æ°£è±¡ Appï¼Œå‹•ç•«åœ°åœ–èƒ½ç²¾ç¢ºé¡¯ç¤ºæ¯å°æ™‚é™é›¨è¶¨å‹¢ã€‚", tip: "æ°£è±¡é å ±åœ¨æŒªå¨æ˜¯ç”¨ä¾†ä¿å‘½çš„ï¼Œç™»å±±å‰å¿…çœ‹ã€‚" },
                { title: "Elton å……é›»å°èˆª", imp: "high", desc: "é›»å‹•è»Šæ•‘æ˜Ÿã€‚æ•´åˆå„å“ç‰Œå……é›»æ¨ï¼Œä¸€éµæ”¯ä»˜ä¸¦å°èˆªã€‚", tip: "å»ºè­°è¡Œå‰å…ˆç¶å®šä¿¡ç”¨å¡ï¼Œå±±å€è¨Šè™Ÿå·®é›£è¨»å†Šã€‚" },
                { title: "UT.no å¥è¡Œè–ç¶“", imp: "med", desc: "å…§å»º 2 è¬æ¢æ­¥é“åœ°åœ–ï¼ŒåŒ…å«é›¢ç·šå°èˆªèˆ‡å±±å±‹è³‡è¨Šã€‚", tip: "è¨˜å¾—ä¸‹è¼‰é›¢ç·šåœ°åœ–ï¼Œè’é‡ä¸­ GPS ä¾ç„¶é‹ä½œã€‚" },
                { title: "Hjelp 113 æ•‘æ´", imp: "high", desc: "å ±æ¡ˆæ™‚è‡ªå‹•å‚³é€åº§æ¨™çµ¦æ•‘æ´ä¸­å¿ƒï¼Œè’é‡æ•‘æ´é—œéµã€‚", tip: "ä¸‹è¼‰å¾Œè«‹å‹™å¿…å®Œæˆæ‰‹æ©Ÿè™Ÿç¢¼è¨»å†Šé©—è­‰ã€‚" }
            ],
            weather: [
                { title: "æ´‹è”¥å¼ç©¿æ³•", imp: "high", desc: "æŒªå¨æº«å·®å¤§ã€‚å…§å±¤æ’æ±—ã€ä¸­å±¤ä¿æš–ã€å¤–å±¤é˜²æ°´é˜²é¢¨ã€‚", tip: "ã€æ²’æœ‰å£å¤©æ°£ï¼Œåªæœ‰ç©¿éŒ¯è¡£ã€æ˜¯æŒªå¨äººçš„åº§å³éŠ˜ã€‚" }
            ],
            money: [
                { title: "4 ä½æ•¸ PIN ç¢¼", imp: "high", desc: "æŒªå¨å¹¾ä¹ä¸æ”¶ç¾é‡‘ã€‚è‡ªåŠ©åŠ æ²¹ã€åœè»Šå¸¸éœ€è¼¸å…¥ 4 ä½ PIN ç¢¼ã€‚", tip: "å‡ºç™¼å‰è«‹å‘éŠ€è¡Œç¢ºèªã€Œé å€Ÿç¾é‡‘å¯†ç¢¼ã€ã€‚" }
            ],
            checklist: [
                { 
                    title: "é‚„è»Šå‰æœ€å¾Œæª¢æŸ¥", 
                    imp: "med", 
                    desc: "ç¢ºä¿æ—…ç¨‹åœ“æ»¿çµæŸï¼Œä¸ç•™ä¸‹ä»»ä½•éºæ†¾æˆ–ç½°é‡‘ã€‚", 
                    isChecklist: true, 
                    items: ["æ²¹é›»è£œæ»¿ (30%ä»¥ä¸Š/åŠ æ»¿)", "æª¢æŸ¥å¾Œåº§èˆ‡å¾Œè»Šç®±", "æ¸…ç†è»Šå…§åƒåœ¾", "æ‹ä¸‹å¤–è§€èˆ‡é‡Œç¨‹è¡¨", "æ­¸é‚„é‘°åŒ™/æ„Ÿæ‡‰å¡"] 
                },
                {
                    title: "ç™»å±±å‡ºç™¼æª¢æŸ¥",
                    imp: "high",
                    desc: "è–å£‡å²©æˆ–é•·è·é›¢å¥è¡Œå‰å¿…çœ‹ã€‚",
                    isChecklist: true,
                    items: ["ç¢ºèª Yr.no å¤©æ°£", "å……è¶³çš„æ°´èˆ‡é›¶é£Ÿ", "è¡Œå‹•é›»æº", "é›¢ç·šåœ°åœ–ä¸‹è¼‰", "å“¨å­æˆ–æ€¥æ•‘åŒ…"]
                }
            ],
            emergency: [
                { title: "ç·Šæ€¥è¯ç¹«é›»è©±", imp: "high", desc: "112 è­¦å¯Ÿ / 113 æ•‘è­·è»Šã€‚é»æ“Šä¸‹æ–¹æŒ‰éˆ•å¯ç›´æ¥æ’¥æ‰“ã€‚", isEmergency: true }
            ]
        };;

        let currentCat = 'driving';

        function switchGuide(cat, element) {
            currentCat = cat;
            document.querySelectorAll('.cat-tag').forEach(t => t.classList.remove('active'));
            element.classList.add('active');
            renderContent(fullGuideData[cat]);
        }

        function renderContent(data) {
            const html = data.map(item => {
                // å¦‚æœæ˜¯ç·Šæ€¥è¯ç¹«
                if(item.isEmergency) {
                    return `
                        <a href="tel:112" class="emergency-btn"><i class="fas fa-shield-halved"></i> æ’¥æ‰“è­¦å¯Ÿå±€ (112)</a>
                        <a href="tel:113" class="emergency-btn" style="background:#434C5E"><i class="fas fa-ambulance"></i> æ’¥æ‰“æ•‘è­·è»Š (113)</a>
                        <div class="glass-card mt-3"><p class="small text-muted">æç¤ºï¼šè‹¥åœ¨è’é‡ï¼Œè«‹ä½¿ç”¨ Hjelp 113 App å ±æ¡ˆä»¥åŒæ­¥åº§æ¨™ã€‚</p></div>
                    `;
                }
                // å¦‚æœæ˜¯æª¢æŸ¥æ¸…å–®
                if(item.isChecklist) {
                    const checks = item.items.map(i => `
                        <div class="check-item">
                            <input type="checkbox" id="${i}" onchange="saveCheck('${i}')" ${localStorage.getItem(i) === 'true' ? 'checked' : ''}>
                            <label for="${i}" class="small">${i}</label>
                        </div>
                    `).join('');
                    return `<div class="glass-card"><h5 class="fw-bold">${item.title}</h5>${checks}</div>`;
                }
                // ä¸€èˆ¬å¡ç‰‡
                return `
                    <div class="glass-card d-flex p-3 guide-item">
                        <div class="importance-strip imp-${item.imp}"></div>
                        <div>
                            <h5 class="fw-bold mb-1">${item.title}</h5>
                            <p class="small text-muted mb-2">${item.desc}</p>
                            <div class="pro-tip-box"><i class="fas fa-lightbulb text-warning me-2"></i>${item.tip}</div>
                        </div>
                    </div>
                `;
            }).join('');
            document.getElementById('guideDisplay').innerHTML = html;
        }

        function filterGuide() {
            const term = document.getElementById('guideSearch').value.toLowerCase();
            const items = document.querySelectorAll('.guide-item');
            items.forEach(el => {
                const text = el.innerText.toLowerCase();
                el.style.display = text.includes(term) ? 'flex' : 'none';
            });
        }

        function saveCheck(id) {
            const checkbox = document.getElementById(id);
            localStorage.setItem(id, checkbox.checked);
        }

        // é è¨­è¼‰å…¥
        renderContent(fullGuideData['driving']);
    </script>
</body>
</html>
